/*
 * Styles for the Projects section.  Includes a responsive filter
 * bar, grid of interactive project cards and rich modal content.
 * Cards indicate clickability by shifting the affordance arrow on
 * hover and focus.  Tooltips are positioned relative to their
 * info icons.  The design maintains consistent spacing and a
 * cohesive palette.
 */

.projects {
  position: relative;
}

/* Filter bar */
.filterBar {
  margin-top: var(--spacing-8);
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-3);
  justify-content: center;
}

.filterButton {
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-full);
  padding: 0.3rem 0.8rem;
  font-size: 0.875rem;
  color: var(--color-text);
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

.filterButton:hover,
.filterButton:focus-visible {
  background: var(--color-panel-hover);
  outline: none;
}

.activeFilter {
  background: var(--color-primary-tint);
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* Grid layout */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-6);
  margin-top: var(--spacing-6);
}

/* Card container */
.card {
  position: relative;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  background: var(--color-panel);
  box-shadow: var(--shadow);
  overflow: hidden;
}

/* Clickable inner area */
.cardInner {
  display: flex;
  flex-direction: column;
  height: 100%;
  cursor: pointer;
  outline: none;
  transition: transform 0.2s ease;
}

.cardInner:hover .affordance,
.cardInner:focus-visible .affordance {
  transform: translateX(4px);
  color: var(--color-primary);
}

.thumbnail {
  width: 100%;
  padding-top: 56.25%; /* 16:9 aspect ratio */
  background-size: cover;
  background-position: center;
}

.cardHeader {
  position: relative;
  padding: var(--spacing-4) var(--spacing-4) 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.cardHeader h3 {
  margin: 0;
  font-size: 1.125rem;
  color: var(--color-primary);
}

/* Info icon */
.infoIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.4rem;
  height: 1.4rem;
  background: var(--color-border);
  color: var(--color-text);
  border-radius: 50%;
  font-size: 0.875rem;
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.infoIcon:hover,
.infoIcon:focus-visible {
  background: var(--color-primary-tint);
  color: var(--color-primary);
  outline: none;
}

/* Tooltip for info icon */
.tooltip {
  position: absolute;
  top: calc(100% + 0.5rem);
  right: 0;
  z-index: 2;
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-3);
  width: 220px;
  box-shadow: var(--shadow);
  font-size: 0.8125rem;
}

.tooltip p {
  margin: 0;
}

.cardBody {
  padding: var(--spacing-4);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-3);
}

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

/* Prominent view button within project cards.  It is centred and
   slightly larger than the default buttons for better visibility. */
.viewButton {
  margin-top: var(--spacing-2);
  padding: var(--spacing-3) var(--spacing-5);
  font-size: 1rem;
  width: 80%;
  justify-content: center;
}

.affordance {
  font-size: 0.875rem;
  color: var(--color-muted);
  transition: transform 0.2s ease, color 0.2s ease;
}

/* Modal header containing the title and top links. */
.modalHeader {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: var(--spacing-4);
}

/* Ensure modal titles always use the primary text colour for better contrast
   against the glass background.  Without this override the headings
   inherit the accent colour which can be hard to read on tinted
   backdrops (e.g. blue on blue). */
.modalHeader h3 {
  color: var(--color-text);
}

.modalLinksTop {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-4);
}

/* Modal content */
.modalContent {
  display: flex;
  flex-direction: column;
  max-height: 80vh;
  overflow-y: auto;
  text-align: left;
  gap: var(--spacing-4);
}

.modalImage {
  width: 100%;
  border-radius: var(--radius-lg);
}

.modalStack {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.modalLinks {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.screenshots {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-4);
}

.screenshots img {
  width: 100%;
  border-radius: var(--radius-md);
}